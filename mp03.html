<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dev Lala">

<title>  Tracks and Stats 🎵 </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="mp03_files/libs/clipboard/clipboard.min.js"></script>
<script src="mp03_files/libs/quarto-html/quarto.js"></script>
<script src="mp03_files/libs/quarto-html/popper.min.js"></script>
<script src="mp03_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="mp03_files/libs/quarto-html/anchor.min.js"></script>
<link href="mp03_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="mp03_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="mp03_files/libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="mp03_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="mp03_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="mp03_files/libs/bootstrap/bootstrap-9c06b7fd1cdcb6f7e05e3d516f2ebe21.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="mp03_files/libs/bootstrap/bootstrap-dark-7189104584608726a80707a12c970cfd.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<style>html{ scroll-behavior: smooth; }</style>
<script src="mp03_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="mp03_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="mp03_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="mp03_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="mp03_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="mp03_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="mp03_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="mp03_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="mp03_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="spotifystyle.css">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title"><p><span style="display: inline-flex; align-items: center;"> <img src="images/spotify.png" style="height: 40px; margin-right: 10px;"> Tracks and Stats 🎵 </span></p></h1>
            <p class="subtitle lead">Where Music Meets Analytics</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta column-page">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Dev Lala </p>
            </div>
    </div>
      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content quarto-banner-title-block column-page" id="quarto-document-content">





<section id="popular-artists" class="level2">
<h2 class="anchored" data-anchor-id="popular-artists">Popular Artists 🎤</h2>
<div style="display: flex; align-items: center; justify-content: flex-start; gap: 30px; margin-bottom: 40px;">
<p><img src="images/kendrick.jpg" width="200px" style="border-radius: 50%;"> <img src="images/eminem.jpg" width="200px" style="border-radius: 50%;"> <img src="images/coldplay.jpg" width="200px" style="border-radius: 50%;"> <img src="images/gorillaz.jpg" width="200px" style="border-radius: 50%;"> <img src="images/empire.jpg" width="200px" style="border-radius: 50%;"></p>
</div>
<p>While these are some of my personal favorite artists—the ones that define my everyday playlists and late-night loops—this project takes a broader lens. I’ll be exploring Spotify data to analyze trends across various artists, genres, and tracks to uncover the characteristics that make a song stand out and rise to popularity. It’s less about personal taste, and more about what the data reveals about music that resonates with millions</p>
</section>
<section id="intro-track" class="level1">
<h1>Intro Track 🎙️</h1>
<p>Welcome to Tracks and Stats — where the world of music meets the power of data!</p>
<p>In this project, we dive into Spotify’s data exports to uncover the trends and characteristics behind today’s most popular songs. Using real-world analytics, we work toward building The Ultimate Playlist — a collection inspired by the legendary spirit of Mr.&nbsp;Barney Stinson’s “All Rise” playlist, but customized to reflect our own vision of what ultimate music sounds like.</p>
<p>Through the lens of Tracks and Stats, we explore top artists, trending songs, and musical patterns that define what makes a track truly unforgettable.</p>
</section>
<section id="main-chorus" class="level1">
<h1>Main Chorus 🎶</h1>
<ul>
<li><p>Ingest and clean Spotify datasets to prepare for analysis.</p></li>
<li><p>Combine multiple data sources to create a richer dataset.</p></li>
<li><p>Perform descriptive analysis and visualize key trends.</p></li>
<li><p>Apply inferential modeling to build <strong>The Ultimate Playlist</strong>.</p></li>
</ul>
</section>
<section id="data-soundcheck" class="level1">
<h1><strong>Data Soundcheck</strong> 📀</h1>
<p>In this section, I’ve loaded and cleaned two datasets: one with song characteristics like acousticness and tempo, and another with playlist details such as track order and metadata. These datasets are now ready for analysis.</p>
<section id="track-traits" class="level3">
<h3 class="anchored" data-anchor-id="track-traits"><span style="color:#1DB954;">Track Traits 🎸</span></h3>
<p>This section displays a dataset of songs with key traits like acousticness, danceability, tempo, loudness, popularity, and more. Each row represents a song along with its ID, release date &amp; year, artist and various other characteristics</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to load and clean songs data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>load_songs <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  dir_name <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">"data"</span>, <span class="st">"mp03"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(dir_name, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_name, <span class="st">"spotify_songs.csv"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(file_path)) {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">url =</span> <span class="st">"https://raw.githubusercontent.com/gabminamedez/spotify-data/refs/heads/master/data.csv"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">destfile =</span> file_path,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">extra =</span> <span class="st">"-L -A 'Mozilla/5.0'"</span>, <span class="co"># Trick GitHub download</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">"libcurl"</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  songs_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  clean_artist_string <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace_all</span>(x, <span class="st">"</span><span class="sc">\\</span><span class="st">['"</span>, <span class="st">""</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_replace_all</span>(<span class="st">"'</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_replace_all</span>(<span class="st">" '"</span>, <span class="st">""</span>) </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  songs_clean <span class="ot">&lt;-</span> songs_data <span class="sc">|&gt;</span> </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate_longer_delim</span>(artists, <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">artist =</span> <span class="fu">clean_artist_string</span>(artists)) <span class="sc">|&gt;</span> </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>artists)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(songs_clean)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Load and clean the data</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>songs <span class="ot">&lt;-</span> <span class="fu">load_songs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(songs, <span class="dv">100</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span> <span class="co"># keep 'Show entries' (l), 'Search' (f), table (t), pagination (p)</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(songs),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,  <span class="co"># Black background</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span>  <span class="co"># Bright green text</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="st">      // Change text color of 'Show entries' label</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="st">      // Change text color inside 'Search' input</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="st">      // Also adjust the dropdown box</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d0f6bdc58b915272d0a5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d0f6bdc58b915272d0a5">{"x":{"filter":"none","vertical":false,"data":[["6KbQ3uYMLKb5jDxLF7wYDD","6KuQTIu1KoTTkLXKrwlLPV","6KuQTIu1KoTTkLXKrwlLPV","6L63VW0PibdM1HDSBoqnoM","6M94FkXd15sOAOQYRnWPN8","6N6tiFZ9vLTSOIxkj8qKrd","6N6tiFZ9vLTSOIxkj8qKrd","6NxAf7M8DNHOBTmEd3JSO5","6NxAf7M8DNHOBTmEd3JSO5","6O0puPuyrxPjDTHDUgsWI7","6O0puPuyrxPjDTHDUgsWI7","6OJjveoYwJdIt76y0Pxpxw","6OaJ8Bh7lsBeYoBmwmo2nh","6OaJ8Bh7lsBeYoBmwmo2nh","6PrZexNb16cabXR8Q418Xc","6QBInZBkQNIQYU9gGzT5l4","6QBInZBkQNIQYU9gGzT5l4","6QIONtzbQCbnmWNwn0H1yT","6QIONtzbQCbnmWNwn0H1yT","6QgdUySTRGVkNo3KwbHpK3","6QgdUySTRGVkNo3KwbHpK3","6RvSNoCPBZeTR2LyGvdJOw","6RvSNoCPBZeTR2LyGvdJOw","6Rwn56jcC0TdGQzbRl7NGw","6Rwn56jcC0TdGQzbRl7NGw","6Rwn56jcC0TdGQzbRl7NGw","6Sdpmree8xpGWaedACPMlP","6Sdpmree8xpGWaedACPMlP","6T0mZB7p3qzOifdXZ3Su9P","6T0mZB7p3qzOifdXZ3Su9P","6TFuAErGpJ9FpxQQ1HC8nM","6TFuAErGpJ9FpxQQ1HC8nM","6UUfiNT82MWBNnmsE2ZNWf","6UUfiNT82MWBNnmsE2ZNWf","6Ukl7n0q3Cjd0Og8uBmVeP","6UxGTlqovmrBV4SKAsoz0A","6UxGTlqovmrBV4SKAsoz0A","6VGWQU6XIXshFT288CoLrk","6VUm7Dg5sufmG01IYcoJE3","6VUm7Dg5sufmG01IYcoJE3","6VqUdRHLlFMXmN4plGWSMA","6W7iUeL4W0WVIF1BEOCswF","6W7iUeL4W0WVIF1BEOCswF","6WBXyRc3ynwvRHiBWudVLo","6WBXyRc3ynwvRHiBWudVLo","6WFYaPHg3P8jQuh7x9YKYZ","6WRmg6x1bYjHxzeMCfKguB","6WRmg6x1bYjHxzeMCfKguB","6WSYfri77xoUvXLg3WTdLF","6WSYfri77xoUvXLg3WTdLF","6XD6qJykJ91uC9AYb84ZeY","6XbXjlJZxRZslzXDh115DL","6XbXjlJZxRZslzXDh115DL","6XoyWGdCJwFaJV1Pnmphwr","6XxKNIhZQsW1A5Sg6O32Is","6Z6DJ8L7WMy2WHbXe3jR9I","6Z6DJ8L7WMy2WHbXe3jR9I","6ZSXaYQBOPDDmKeqaOfBa2","6ZWi1fuonJCUlt4p6o9Uzs","6aBzlB3FTioN5vCTfdswr8","6aBzlB3FTioN5vCTfdswr8","6aNewFey3lEHDerGgy3rYN","6aXTusFB0Ycjmt9TXr2cfK","6bKJYhoaWIohnhspidbdW7","6duqhjENDYbR2Q4Hpogh9M","6duqhjENDYbR2Q4Hpogh9M","6h6ShFPagQGy48KSFd8BU9","6h6ShFPagQGy48KSFd8BU9","6hUMURfCaJ6JB8EWL1ZLr7","6hUMURfCaJ6JB8EWL1ZLr7","6hcPbniXegOud4FNv8Efxz","6i3IWozMMPQXtD5W1klS0n","6i7kom9nwTggWaYQAW9puH","6iInEwECoC9ZX8uPDRjyft","6j8nMxm9yFxN3Mdodm9tEl","6j8nMxm9yFxN3Mdodm9tEl","6jIUK38SalSc8jYFLW4FYv","6jm4s7lONpJRXumjV6WH23","6jm4s7lONpJRXumjV6WH23","6jpxi5YTFfquMKm7HLS0fW","6jpxi5YTFfquMKm7HLS0fW","6k3zky8VRvpPo9T5dqWbKS","6k3zky8VRvpPo9T5dqWbKS","6k6oWqs8cZnnjY38LdP08T","6kfj3G8mZQH4n530vJen6L","6kfj3G8mZQH4n530vJen6L","6l4zbFqen97rgCxmq9LWgK","6l4zbFqen97rgCxmq9LWgK","6m2U5lsHxlDvCUl6aZzCLO","6mUmlFMnIKz3m8rIDnzwd0","6mUmlFMnIKz3m8rIDnzwd0","6mUr9qArNrSpsXeWIL2Go0","6mUr9qArNrSpsXeWIL2Go0","6mlX2fWNqtclyBUAyBHNQ5","6myKdOFzdAkk3npbTVrzFg","6nRuUkty1Wsn3rPZgfpZ9F","6nRuUkty1Wsn3rPZgfpZ9F","6nxEIdbSzOtdi93IskacDT","6oZyWbbisoG8jOunmpPH40","6p5vkrnb0SdBxqHXNPn8Zs"],["Singende Bataillone 1. Teil","Fantasiestücke, Op. 111: Più tosto lento","Fantasiestücke, Op. 111: Più tosto lento","Chapter 1.18 - Zamek kaniowski","Bebamos Juntos - Instrumental (Remasterizado)","Polonaise-Fantaisie in A-Flat Major, Op. 61","Polonaise-Fantaisie in A-Flat Major, Op. 61","Scherzo a capriccio: Presto","Scherzo a capriccio: Presto","Valse oubliée No. 1 in F-Sharp Major, S. 215/1","Valse oubliée No. 1 in F-Sharp Major, S. 215/1","Per aspera ad astra","Moneda Corriente - Remasterizado","Moneda Corriente - Remasterizado","Chapter 1.3 - Zamek kaniowski","Piano Sonata No. 2 in B-Flat Minor, Op. 36: I. Allegro agitato - Meno mosso","Piano Sonata No. 2 in B-Flat Minor, Op. 36: I. Allegro agitato - Meno mosso","Piano Sonata No. 2, Op. 35: IV. Finale. Presto","Piano Sonata No. 2, Op. 35: IV. Finale. Presto","Piano Sonata in E-Flat Minor, Op. 26: III. Adagio mesto","Piano Sonata in E-Flat Minor, Op. 26: III. Adagio mesto","Nachtstücke, Op. 23: No. 4 in F","Nachtstücke, Op. 23: No. 4 in F","Symphony No. 5 in C Minor, Op. 67: 3. Allegro","Symphony No. 5 in C Minor, Op. 67: 3. Allegro","Symphony No. 5 in C Minor, Op. 67: 3. Allegro","A Shropshire Lad: Is My Team Ploughing?","A Shropshire Lad: Is My Team Ploughing?","Sonata No. 3, Op. 23 in F-Sharp Minor: IV. Presto con fuoco; Meno mosso","Sonata No. 3, Op. 23 in F-Sharp Minor: IV. Presto con fuoco; Meno mosso","Invocación al Tango - Remasterizado","Invocación al Tango - Remasterizado","Where the Bee Sucks","Where the Bee Sucks","Tendrás Que Llorar Conmigo - Instrumental (Remasterizado)","Etude in A-Flat, Op. 72, No. 11","Etude in A-Flat, Op. 72, No. 11","Quisiste Cachar un Gil - Instrumental (Remasterizado)","Andante spianato in E-Flat Major, Op. 22","Andante spianato in E-Flat Major, Op. 22","La Recova - Instrumental (Remasterizado)","El Espejito - Remasterizado","El Espejito - Remasterizado","It Was a Lover and His Lass","It Was a Lover and His Lass","Kız Saçların","Scherzo No. 1 in B Minor, Op. 20","Scherzo No. 1 in B Minor, Op. 20","Sonata, Op. 14, No. 3 in F Minor: I. Allegro agitato","Sonata, Op. 14, No. 3 in F Minor: I. Allegro agitato","Chapter 4.12 - Zamek kaniowski","Venite Conmigo - Remasterizado","Venite Conmigo - Remasterizado","Por una Mujer - Remasterizado","Loving You","A Shropshire Lad: Oh Fair Enough are Sky and Plain","A Shropshire Lad: Oh Fair Enough are Sky and Plain","Abuelita - Remasterizado","La Noce À Rebecca","Por Esta Cruz - Remasterizado","Por Esta Cruz - Remasterizado","Che Bouhier - Instrumental (Remasterizado)","Chapter 4.10 - Zamek kaniowski","Chapter 2.11 - Zamek kaniowski","Nocturne in F-Sharp Major, Op. 15, No. 2","Nocturne in F-Sharp Major, Op. 15, No. 2","Sonata No. 3, Op. 46: II. Andante cantabile","Sonata No. 3, Op. 46: II. Andante cantabile","Nocturne F Minor, Op. 55, No. 1","Nocturne F Minor, Op. 55, No. 1","Timbero - Instrumental (Remasterizado)","Chapter 3.4 - Zamek kaniowski","Chapter 1.13 - Zamek kaniowski","Mariposa de Cabaret - Instrumental (Remasterizado)","Mazurka in F Minor, Op. 7, No. 3","Mazurka in F Minor, Op. 7, No. 3","Rumours","Danse macabre, S. 555 (after Camille Saint-Saens)","Danse macabre, S. 555 (after Camille Saint-Saens)","Humoreske, Op. 20: Einfach","Humoreske, Op. 20: Einfach","Humoreske, Op. 20: Innig","Humoreske, Op. 20: Innig","La Carreta - Remasterizado","Dentra, No Llores - Remasterizado","Dentra, No Llores - Remasterizado","Barcarolle, Op. 60","Barcarolle, Op. 60","I'd Rather Cry Over You","En un Pueblito de España - Remasterizado","En un Pueblito de España - Remasterizado","Sonata quasi Concerto, Op. 33, No. 3 in C: II. Adagio e cantabile, con espressione","Sonata quasi Concerto, Op. 33, No. 3 in C: II. Adagio e cantabile, con espressione","Caido del Cielo - Remasterizado","Chick, Chick, Chick, Chick, Chicken - Lay A Little Egg For Me","Triste Paica - Remasterizado","Triste Paica - Remasterizado","Piedad - Remasterizado","Country Blues #1","La Cabeza del Italiano - Instrumental (Remasterizado)"],[158648,282133,282133,104300,180760,687733,687733,352600,352600,136627,136627,153967,162493,162493,111600,590293,590293,85133,85133,338333,338333,167333,167333,276563,276563,276563,184840,184840,326067,326067,167107,167107,122533,122533,173707,80800,80800,176000,245440,245440,169720,166000,166000,152600,152600,162197,505920,505920,251960,251960,102200,177507,177507,159107,372962,173293,173293,151840,140267,166493,166493,200213,95900,139100,215267,215267,285133,285133,333907,333907,174720,108800,109900,169160,138013,138013,369721,491333,491333,118093,118093,158973,158973,168400,194000,194000,519933,519933,161587,204867,204867,351000,351000,108573,162147,175493,175493,130813,155893,194413],["1928","1928","1928","1928","9/25/28","1928","1928","1928","1928","1928","1928","1928","10/3/28","10/3/28","1928","1928","1928","1928","1928","1928","1928","1928","1928","1/1/28","1/1/28","1/1/28","1928","1928","1928","1928","9/16/28","9/16/28","1928","1928","9/17/28","1928","1928","9/20/28","1928","1928","9/16/28","9/20/28","9/20/28","1928","1928","5/7/28","1928","1928","1928","1928","1928","9/25/28","9/25/28","5/14/28","8/20/28","1928","1928","5/14/28","1928","9/20/28","9/20/28","9/16/28","1928","1928","1928","1928","1928","1928","1928","1928","9/17/28","1928","1928","9/25/28","1928","1928","8/20/28","1928","1928","1928","1928","1928","1928","5/14/28","10/3/28","10/3/28","1928","1928","1928","9/21/28","9/21/28","1928","1928","5/14/28","7/1/28","9/20/28","9/20/28","5/14/28","1928","9/17/28"],[1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928,1928],[0.995,0.994,0.994,0.604,0.995,0.99,0.99,0.995,0.995,0.956,0.956,0.988,0.995,0.995,0.846,0.994,0.994,0.989,0.989,0.99,0.99,0.992,0.992,0.977,0.977,0.977,0.991,0.991,0.996,0.996,0.994,0.994,0.993,0.993,0.992,0.993,0.993,0.99,0.975,0.975,0.99,0.988,0.988,0.988,0.988,0.99,0.991,0.991,0.993,0.993,0.6860000000000001,0.995,0.995,0.995,0.422,0.987,0.987,0.983,0.989,0.994,0.994,0.994,0.708,0.777,0.977,0.977,0.993,0.993,0.99,0.99,0.995,0.826,0.662,0.985,0.985,0.985,0.461,0.993,0.993,0.995,0.995,0.992,0.992,0.992,0.993,0.993,0.992,0.992,0.993,0.995,0.995,0.989,0.989,0.991,0.991,0.991,0.991,0.99,0.872,0.991],[0.708,0.379,0.379,0.749,0.781,0.21,0.21,0.424,0.424,0.444,0.444,0.555,0.6830000000000001,0.6830000000000001,0.674,0.376,0.376,0.17,0.17,0.359,0.359,0.311,0.311,0.335,0.335,0.335,0.319,0.319,0.319,0.319,0.787,0.787,0.569,0.569,0.763,0.352,0.352,0.833,0.277,0.277,0.8110000000000001,0.699,0.699,0.54,0.54,0.569,0.38,0.38,0.28,0.28,0.715,0.767,0.767,0.531,0.662,0.238,0.238,0.668,0.769,0.801,0.801,0.854,0.677,0.738,0.305,0.305,0.372,0.372,0.337,0.337,0.729,0.726,0.631,0.8100000000000001,0.355,0.355,0.733,0.303,0.303,0.319,0.319,0.468,0.468,0.698,0.836,0.836,0.233,0.233,0.641,0.461,0.461,0.222,0.222,0.431,0.839,0.829,0.829,0.709,0.571,0.8080000000000001],[0.195,0.0135,0.0135,0.22,0.13,0.204,0.204,0.12,0.12,0.197,0.197,0.421,0.207,0.207,0.205,0.07190000000000001,0.07190000000000001,0.0823,0.0823,0.0435,0.0435,0.0107,0.0107,0.105,0.105,0.105,0.00593,0.00593,0.155,0.155,0.156,0.156,0.15,0.15,0.132,0.132,0.132,0.132,0.09,0.09,0.175,0.221,0.221,0.102,0.102,0.327,0.119,0.119,0.0436,0.0436,0.22,0.23,0.23,0.124,0.606,0.0324,0.0324,0.261,0.442,0.113,0.113,0.151,0.204,0.282,0.083,0.083,0.0945,0.0945,0.0699,0.0699,0.191,0.249,0.23,0.3,0.0452,0.0452,0.613,0.226,0.226,0.00217,0.00217,0.0184,0.0184,0.192,0.207,0.207,0.113,0.113,0.192,0.195,0.195,0.0113,0.0113,0.315,0.37,0.199,0.199,0.148,0.204,0.215],[0.5629999999999999,0.901,0.901,0,0.887,0.908,0.908,0.911,0.911,0.435,0.435,0.836,0.206,0.206,0,0.883,0.883,0.911,0.911,0.899,0.899,0.883,0.883,0.84,0.84,0.84,6.35e-05,6.35e-05,0.917,0.917,0.659,0.659,0.0015,0.0015,0.0693,0.966,0.966,0.000568,0.949,0.949,0.841,0.0725,0.0725,2.13e-06,2.13e-06,0.947,0.89,0.89,0.885,0.885,0,0.605,0.605,0.0168,0.915,0.0009859999999999999,0.0009859999999999999,0.0232,1.27e-06,0.206,0.206,0.371,0,0,0.697,0.697,0.9409999999999999,0.9409999999999999,0.903,0.903,0.455,0,0,0.000885,0.825,0.825,0.951,0.826,0.826,0.9370000000000001,0.9370000000000001,0.912,0.912,0.00577,0.522,0.522,0.879,0.879,0.5,0.886,0.886,0.954,0.954,0.883,0.0419,6.54e-06,6.54e-06,0.0262,0.779,0.524],[0.151,0.07630000000000001,0.07630000000000001,0.119,0.111,0.098,0.098,0.0915,0.0915,0.07439999999999999,0.07439999999999999,0.105,0.337,0.337,0.17,0.196,0.196,0.09619999999999999,0.09619999999999999,0.109,0.109,0.0954,0.0954,0.231,0.231,0.231,0.06909999999999999,0.06909999999999999,0.126,0.126,0.11,0.11,0.106,0.106,0.112,0.425,0.425,0.09569999999999999,0.125,0.125,0.13,0.142,0.142,0.0819,0.0819,0.134,0.0601,0.0601,0.08649999999999999,0.08649999999999999,0.206,0.133,0.133,0.118,0.0594,0.112,0.112,0.122,0.167,0.129,0.129,0.159,0.104,0.29,0.231,0.231,0.189,0.189,0.106,0.106,0.103,0.173,0.145,0.13,0.153,0.153,0.122,0.119,0.119,0.0791,0.0791,0.103,0.103,0.243,0.321,0.321,0.161,0.161,0.593,0.0969,0.0969,0.0873,0.0873,0.108,0.104,0.119,0.119,0.131,0.197,0.0906],[-12.428,-28.454,-28.454,-19.924,-14.734,-16.829,-16.829,-19.242,-19.242,-17.226,-17.226,-9.878,-9.801,-9.801,-20.119,-21.849,-21.849,-30.107,-30.107,-20.858,-20.858,-35.648,-35.648,-16.049,-16.049,-16.049,-25.789,-25.789,-18.728,-18.728,-14.056,-14.056,-15.238,-15.238,-13.002,-23.202,-23.202,-11.131,-26.188,-26.188,-13.639,-12.228,-12.228,-18.555,-18.555,-13.622,-21.255,-21.255,-25.958,-25.958,-19.788,-10.728,-10.728,-23.243,-7.026,-24.361,-24.361,-16.91,-12.697,-12.147,-12.147,-11.163,-20.024,-16.556,-20.895,-20.895,-22.709,-22.709,-23.806,-23.806,-15.313,-16.82,-19.213,-9.702,-24.125,-24.125,-8.749000000000001,-21.483,-21.483,-36.905,-36.905,-27.785,-27.785,-17.343,-9.539999999999999,-9.539999999999999,-18.276,-18.276,-15.905,-15.059,-15.059,-33.218,-33.218,-21.753,-11.602,-9.199999999999999,-9.199999999999999,-18.933,-18.61,-12.205],[0.0506,0.0462,0.0462,0.929,0.0926,0.0424,0.0424,0.0593,0.0593,0.04,0.04,0.0474,0.127,0.127,0.954,0.0352,0.0352,0.0317,0.0317,0.0424,0.0424,0.0556,0.0556,0.0716,0.0716,0.0716,0.051,0.051,0.036,0.036,0.157,0.157,0.0474,0.0474,0.0886,0.0381,0.0381,0.295,0.0316,0.0316,0.0712,0.115,0.115,0.07920000000000001,0.07920000000000001,0.0499,0.0389,0.0389,0.0393,0.0393,0.948,0.199,0.199,0.0711,0.0376,0.0541,0.0541,0.101,0.273,0.0837,0.0837,0.137,0.957,0.952,0.0331,0.0331,0.0317,0.0317,0.0322,0.0322,0.108,0.952,0.959,0.289,0.0329,0.0329,0.0383,0.0444,0.0444,0.0412,0.0412,0.0447,0.0447,0.128,0.152,0.152,0.0397,0.0397,0.04,0.0609,0.0609,0.043,0.043,0.0464,0.08,0.0619,0.0619,0.0775,0.0328,0.0851],[118.469,83.97199999999999,83.97199999999999,107.177,108.003,62.149,62.149,63.521,63.521,80.495,80.495,123.31,119.833,119.833,81.249,141.39,141.39,85.989,85.989,96.645,96.645,78.98,78.98,80.20399999999999,80.20399999999999,80.20399999999999,79.831,79.831,66.947,66.947,117.167,117.167,76.93000000000001,76.93000000000001,111.679,74.73699999999999,74.73699999999999,121.779,105.031,105.031,115.212,117.899,117.899,73.51600000000001,73.51600000000001,82.742,132.005,132.005,81.07599999999999,81.07599999999999,113.214,119.985,119.985,101.902,111.999,172.321,172.321,120.553,132.125,117.063,117.063,110.331,84.82599999999999,140.612,80.622,80.622,59.217,59.217,72.133,72.133,112.565,112.379,83.401,115.648,84.551,84.551,123.019,67.01300000000001,67.01300000000001,78.505,78.505,59.38,59.38,78.218,112.369,112.369,64.08199999999999,64.08199999999999,106.052,76.419,76.419,74.04000000000001,74.04000000000001,65.735,115.063,116.214,116.214,122.415,129.289,110.894],[0.779,0.0767,0.0767,0.88,0.72,0.0693,0.0693,0.266,0.266,0.305,0.305,0.857,0.493,0.493,0.759,0.0393,0.0393,0.346,0.346,0.042,0.042,0.216,0.216,0.406,0.406,0.406,0.169,0.169,0.0488,0.0488,0.849,0.849,0.596,0.596,0.832,0.661,0.661,0.5679999999999999,0.168,0.168,0.9330000000000001,0.782,0.782,0.433,0.433,0.5620000000000001,0.18,0.18,0.182,0.182,0.545,0.868,0.868,0.555,0.645,0.0379,0.0379,0.702,0.9340000000000001,0.672,0.672,0.781,0.667,0.703,0.0479,0.0479,0.0791,0.0791,0.135,0.135,0.902,0.5590000000000001,0.595,0.806,0.276,0.276,0.26,0.146,0.146,0.229,0.229,0.235,0.235,0.681,0.595,0.595,0.06419999999999999,0.06419999999999999,0.704,0.844,0.844,0.0917,0.0917,0.711,0.976,0.681,0.681,0.516,0.09320000000000001,0.866],[1,1,1,0,0,1,1,0,0,1,1,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1],[10,8,8,5,1,11,11,6,6,11,11,1,9,9,9,10,10,10,10,7,7,5,5,5,5,5,7,7,4,4,4,4,5,5,4,8,8,1,7,7,9,11,11,4,4,7,11,11,8,8,2,2,2,2,7,7,7,7,2,4,4,4,1,1,6,6,10,10,5,5,4,9,1,4,1,1,7,3,3,10,10,10,10,2,7,7,1,1,3,10,10,5,5,11,2,10,10,3,6,9],[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,2,2,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],["Carl Woitschach","Robert Schumann'","Vladimir Horowitz","Seweryn Goszczyński","Francisco Canaro","Frédéric Chopin'","Vladimir Horowitz","Felix Mendelssohn'","Vladimir Horowitz","Franz Liszt'","Vladimir Horowitz","Carl Woitschach","Francisco Canaro'","Charlo","Seweryn Goszczyński","Sergei Rachmaninoff'","Vladimir Horowitz","Frédéric Chopin'","Vladimir Horowitz","Samuel Barber'","Vladimir Horowitz","Robert Schumann'","Vladimir Horowitz","Ludwig van Beethoven'","Staatskapelle Berlin'","Richard Strauss","George Butterworth'","John Cameron","Alexander Scriabin'","Vladimir Horowitz","Francisco Canaro'","Luis Scalon","Thomas Arne'","John Heddle Nash","Francisco Canaro","Moritz Moszkowski'","Vladimir Horowitz","Francisco Canaro","Frédéric Chopin'","Vladimir Horowitz","Francisco Canaro","Francisco Canaro'","Charlo","Roger Quilter'","John Heddle Nash","Hafız Yaşar","Frédéric Chopin'","Vladimir Horowitz","Muzio Clementi'","Vladimir Horowitz","Seweryn Goszczyński","Francisco Canaro'","Charlo","Ignacio Corsini","Shungi Music Crew","George Butterworth'","John Cameron","Ignacio Corsini","Perchicot","Francisco Canaro'","Charlo","Francisco Canaro","Seweryn Goszczyński","Seweryn Goszczyński","Frédéric Chopin'","Vladimir Horowitz","Dmitry Kabalevsky'","Vladimir Horowitz","Frédéric Chopin'","Vladimir Horowitz","Francisco Canaro","Seweryn Goszczyński","Seweryn Goszczyński","Francisco Canaro","Frédéric Chopin'","Vladimir Horowitz","Shungi Music Crew","Franz Liszt'","Vladimir Horowitz","Robert Schumann'","Vladimir Horowitz","Robert Schumann'","Vladimir Horowitz","Ignacio Corsini","Francisco Canaro'","Charlo","Frédéric Chopin'","Vladimir Horowitz","Paul Whiteman","Francisco Canaro'","Charlo","Muzio Clementi'","Vladimir Horowitz","Ignacio Corsini","Ted Weems &amp; His Orchestra","Francisco Canaro'","Charlo","Ignacio Corsini","Taj Mahal","Francisco Canaro"]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>name<\/th>\n      <th>duration_ms<\/th>\n      <th>release_date<\/th>\n      <th>year<\/th>\n      <th>acousticness<\/th>\n      <th>danceability<\/th>\n      <th>energy<\/th>\n      <th>instrumentalness<\/th>\n      <th>liveness<\/th>\n      <th>loudness<\/th>\n      <th>speechiness<\/th>\n      <th>tempo<\/th>\n      <th>valence<\/th>\n      <th>mode<\/th>\n      <th>key<\/th>\n      <th>popularity<\/th>\n      <th>explicit<\/th>\n      <th>artist<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":[2,4,5,6,7,8,9,10,11,12,13,14,15,16,17]},{"name":"id","targets":0},{"name":"name","targets":1},{"name":"duration_ms","targets":2},{"name":"release_date","targets":3},{"name":"year","targets":4},{"name":"acousticness","targets":5},{"name":"danceability","targets":6},{"name":"energy","targets":7},{"name":"instrumentalness","targets":8},{"name":"liveness","targets":9},{"name":"loudness","targets":10},{"name":"speechiness","targets":11},{"name":"tempo","targets":12},{"name":"valence","targets":13},{"name":"mode","targets":14},{"name":"key","targets":15},{"name":"popularity","targets":16},{"name":"explicit","targets":17},{"name":"artist","targets":18}],"order":[],"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[16]; $(this.api().cell(row, 16).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[17]; $(this.api().cell(row, 17).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[18]; $(this.api().cell(row, 18).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      // Change text color of 'Show entries' label\n      $(el).parent().find('label').css('color', '#00FF00');\n      // Change text color inside 'Search' input\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      // Also adjust the dropdown box\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
</section>
<section id="playlist-breakdown" class="level3">
<h3 class="anchored" data-anchor-id="playlist-breakdown"><span style="color:#1DB954;">Playlist Breakdown 🎧</span></h3>
<p>This section showcases a dataset of playlists, detailing the songs included, their order, and additional metadata like artist names and track attributes. It offers a comprehensive view of how different songs are grouped in playlists, a.k.a <strong>‘Rectangle’ the Playlist Data.</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function to load playlists</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>load_playlists <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1. Create directory if it doesn't exist</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  dir_name <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">"data"</span>, <span class="st">"mp03_playlists"</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(dir_name, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2. Set base URL</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  base_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/DevinOgrady/spotify_million_playlist_dataset/refs/heads/main/data1/"</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 3. Set slice numbers to loop through</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  slice_starts <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">999000</span>, <span class="at">by =</span> <span class="dv">1000</span>) </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 4. Create a safe JSON reading function</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  safe_read_json <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">possibly</span>(</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">.f =</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fromJSON</span>(file_path, <span class="at">flatten =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">otherwise =</span> <span class="cn">NULL</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  playlists_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (start <span class="cf">in</span> slice_starts) {</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create filename</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    filename <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"mpd.slice."</span>, start, <span class="st">"-"</span>, start <span class="sc">+</span> <span class="dv">999</span>, <span class="st">".json"</span>)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Full URL to download</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, filename)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Local file path</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    local_file <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_name, filename)</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Download if not already downloaded</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(local_file)) {</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">download.file</span>(url, <span class="at">destfile =</span> local_file, <span class="at">method =</span> <span class="st">"libcurl"</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Downloaded:"</span>, filename))</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Failed to download:"</span>, filename))</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Read the file safely</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">file.exists</span>(local_file)) {</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>      playlists_list[[filename]] <span class="ot">&lt;-</span> <span class="fu">safe_read_json</span>(local_file)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a> <span class="co"># Return list of playlist data</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(playlists_list)</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Actually call the function to load the data</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>playlists_raw <span class="ot">&lt;-</span> <span class="fu">load_playlists</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the raw playlists</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(playlists_raw, <span class="st">"data/playlists_raw.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (DT)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first 100 rows nicely</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(playlist_tracks, <span class="dv">100</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span> <span class="co"># show search, pagination, etc</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(playlist_tracks),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,  <span class="co"># black background</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span>              <span class="co"># bright green text</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8b0f6e518835120f9197" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8b0f6e518835120f9197">{"x":{"filter":"none","vertical":false,"data":[["Playlist 1","Playlist 2","Playlist 3","Playlist 4","Playlist 5","Playlist 6","Playlist 7","Playlist 8","Playlist 9","Playlist 10","Playlist 11","Playlist 12","Playlist 13","Playlist 14","Playlist 15","Playlist 16","Playlist 17","Playlist 18","Playlist 19","Playlist 20","Playlist 21","Playlist 22","Playlist 23","Playlist 24","Playlist 25","Playlist 26","Playlist 27","Playlist 28","Playlist 29","Playlist 30","Playlist 31","Playlist 32","Playlist 33","Playlist 34","Playlist 35","Playlist 36","Playlist 37","Playlist 38","Playlist 39","Playlist 40","Playlist 41","Playlist 42","Playlist 43","Playlist 44","Playlist 45","Playlist 46","Playlist 47","Playlist 48","Playlist 49","Playlist 50","Playlist 51","Playlist 52","Playlist 53","Playlist 54","Playlist 55","Playlist 56","Playlist 57","Playlist 58","Playlist 59","Playlist 60","Playlist 61","Playlist 62","Playlist 63","Playlist 64","Playlist 65","Playlist 66","Playlist 67","Playlist 68","Playlist 69","Playlist 70","Playlist 71","Playlist 72","Playlist 73","Playlist 74","Playlist 75","Playlist 76","Playlist 77","Playlist 78","Playlist 79","Playlist 80","Playlist 81","Playlist 82","Playlist 83","Playlist 84","Playlist 85","Playlist 86","Playlist 87","Playlist 88","Playlist 89","Playlist 90","Playlist 91","Playlist 92","Playlist 93","Playlist 94","Playlist 95","Playlist 96","Playlist 97","Playlist 98","Playlist 99","Playlist 100"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],[48,100,64,24,73,99,17,48,46,23,70,99,88,36,19,25,2,40,88,26,35,100,94,4,83,33,91,2,57,96,41,23,29,42,14,21,57,7,35,67,85,17,91,68,3,97,49,98,87,86,48,25,5,5,1,2,20,1,57,9,39,4,32,48,99,72,28,75,83,8,34,92,15,100,91,68,91,1,81,23,17,68,54,39,20,99,56,99,41,17,90,12,52,53,82,31,79,59,28,80],[386,199,334,386,448,66,176,355,371,42,143,495,433,53,42,185,62,160,115,451,471,415,251,68,218,397,141,149,417,425,193,309,28,327,94,472,340,160,356,475,378,371,255,465,78,244,458,165,10,316,286,170,3,201,170,414,311,156,344,98,490,323,12,163,408,177,75,270,368,403,479,340,233,88,497,238,252,120,57,211,108,383,116,57,284,287,161,211,353,394,77,2,337,339,499,431,358,285,36,156],["Artist_W","Artist_Z","Artist_L","Artist_F","Artist_V","Artist_N","Artist_X","Artist_S","Artist_E","Artist_I","Artist_T","Artist_L","Artist_F","Artist_L","Artist_U","Artist_Y","Artist_J","Artist_M","Artist_Q","Artist_E","Artist_I","Artist_M","Artist_Q","Artist_U","Artist_A","Artist_D","Artist_Q","Artist_S","Artist_M","Artist_W","Artist_U","Artist_W","Artist_U","Artist_W","Artist_B","Artist_B","Artist_I","Artist_U","Artist_A","Artist_S","Artist_R","Artist_A","Artist_T","Artist_L","Artist_K","Artist_V","Artist_J","Artist_Q","Artist_K","Artist_A","Artist_P","Artist_I","Artist_O","Artist_N","Artist_Z","Artist_N","Artist_R","Artist_G","Artist_I","Artist_F","Artist_X","Artist_L","Artist_J","Artist_N","Artist_L","Artist_T","Artist_D","Artist_D","Artist_E","Artist_K","Artist_J","Artist_P","Artist_S","Artist_D","Artist_K","Artist_T","Artist_C","Artist_Q","Artist_C","Artist_V","Artist_F","Artist_M","Artist_V","Artist_O","Artist_W","Artist_E","Artist_J","Artist_V","Artist_M","Artist_X","Artist_M","Artist_T","Artist_Q","Artist_K","Artist_H","Artist_O","Artist_J","Artist_B","Artist_R","Artist_Y"],["ZOMDEBXTCIFAYJCPFCXALD","QWQSZMWIUKIVYKJWIDSLLH","HEPQFAZXKSIVYUPWIBDIOU","WHVYWRPNIYORRWBDRBOCRG","HSRSNJCBVAZZNNDOZBVTBE","LVWKXXHKTZCNOMIPUMZARW","LPWEVEOMCFKKNTCYLAUUFL","IEORIGQSWBNZXMUOKUTFJZ","JJTZODCKWSDRAOVWHDGHFH","VIHCZHWQTXFWLNHTKXUQZD","GOZIZHGGTMIAPSPDEOLAHN","TQQDXQMVKHDFCUOGPKIEZU","UIAYXNFBEHIXJKISLAYCIV","UGTUOXTUASXSJFCFBTYWEI","RCIWECEGGNYILZODOBFFPQ","FDEWVSYRTQEJQVKBZZMAPA","BCXFWTXENEEYRGFSVALVFH","HOPUMPHAFBFUDQIDBTSGOH","GVZRRSVJAQUAYAWWTBEQBK","BURTUCKOPLCSHDQNVKZRBY","JQLEKZHTKEORDBBZULXQAC","TLRBHKHONCAGHWZKACZRGZ","XWYIDYKNNVHOYDWLJIUMYU","HDGRSQYLQXKFGQFKXZAZXZ","JGHKTYLBUGNFWOYIWBBIOF","LODEASGBIVNNXTNSXNCXCE","WIAJFVTMIPQCUFTFQVAWQC","TPAJMBQWDBQXLWSRAVEXQX","VDRKSAVXYNSIZSAYVGJRZC","NCIKDAEBTHJDPGDSZWGOZE","ICGUAQUUSOYSPEKFTYIMRB","NRQTPMUQFDYRNAKFFKKWED","AGCGFBOVTATJSZYVOYADRC","DHBEQWYNTYUJKTPDHCWERI","SXUFBRIWCBFABHQZONKENN","OAQHZTWSNNDCYEFNJGBCDZ","QRVMGMLYOUIVGSNNPIIWNW","VKAYCRYZFHOWNFTRRJITCV","WRUXXEJBPQNZHXJTFSHGPZ","ZDXKLZBAPAHYKCDJYHGBGT","KIZUQCGOUMZCORENQGIRQQ","BGSARRMTDPKWOOMJPWTRJA","VOXQOSBOPQKNAJSYCMFNDM","CTRWEAJPOYHUFHWABDKQVE","YEFJBFOTLXHZSQAHCAFOJX","JESMXTXZHBKFCLPBOFRJYL","ACYHEOGOLVPYYPYEYTDMGJ","TTFHBZJKIJOXFNFBITVCWD","IAXKUFAWOHKZBEAZAMDMRV","WPADYVFUOZVJGBDMRWSRHE","MOYVXZBYBVZKNDCYYSUPUH","CDTRBTKKFSBCEBHWPPTKLY","AHNVJFGMPSDEZCFYWSXNZX","DZJJMTCIPGSEPRBMHYXJME","KMLNIOHNCSEBDINXNVZVIL","HQEPMZTWISYKVBGFGBBPKO","GVAEAPQYABRMUUTKUSTUFP","OVOZKHHGHGHPDPEKXZAPAG","QYUQBGMJDSRJELTMABBRPH","QCJZXESOULFRPWGJQWQOUK","NEPMDYBITFSUMPFTENMACY","UFFICXYZUZPIIWKQEURTTJ","VFMQAYITVVYVXRGWNVUHIU","WQANPJVFORJXLYJOWUZLHR","ANTFCIOPPDNMQDTJDTKJJQ","RVBDYKWSXEVKVYZWXOBJIX","AAAWMHBPQUFXLBNFFAISRV","UTAESQCOVOPSMRMRWCICSK","OFPYKVZRCPCVRQOCZSUZWK","EOMVXPUVZNXZYABGSYAWSZ","KKGOSQSFIUFJNKGUUJRRZR","IHECWXIZHVSGYGHDVUWCXV","OYRUBYAVMEEWAVKMAZIWBD","GRXPJSMMGRUJIJWWEQQAXT","NHRHTYHOYGKKRSYFWRYOAB","UNUUUTEWICIAZAWFJXBCZP","TNOMVJTNIHXSJZAXGMJBPL","FWSUYECIYYFXLHSTVDXGRH","IFNDIFRKLVYWNPHGSQGDAC","ZDVKOSBDTKXOZVUJRWOIQY","VXIPTWOYBUSHZPJAKWTMBE","GSBQJBOKPRIWPRDSJHGSRB","HIJFNREUMPCTEIISWCZXVT","UGHKDEAXSLDKANSQGSDEPE","HHLNRALAOSAWUXLXOIVFGI","YIAEGKCCLXEEGCHHNKGDFO","KKDCEVINIHNOAPYCGGMBJU","ANAPVPKDIGBVOKNXTEPGSR","MEQYPDCFBMAREPNMEFDROD","HLVXWYLUWPSZSKPKOSNVIJ","BRCWKXQVYWSLFRGQDNSOTS","VARCSRWBBGKIQNURCAIFFC","VZGBYUADTPRFNOHGYXQVIL","YJZSPNATMASCIYNEHOMXWL","RQMRDQTIDEOFRYJPRLUWIL","WHEZKLKOMZPPNODVCALHWU","JOVQEMOMBCOAYKLYNKAEHQ","OPUEFBXYHPTZELKYPEXULO","CAAZJUXMIEDUHUHCCTRHDV","VPXBUKISEYALAXLTCYXQWQ"],["Track_2565","Track_9776","Track_9162","Track_1028","Track_2466","Track_5112","Track_9383","Track_735","Track_5623","Track_1720","Track_918","Track_5132","Track_2453","Track_9181","Track_6080","Track_4952","Track_4208","Track_1374","Track_5953","Track_8067","Track_7785","Track_9216","Track_4010","Track_8542","Track_18","Track_4148","Track_8835","Track_7975","Track_7458","Track_3285","Track_9410","Track_5077","Track_8131","Track_1000","Track_994","Track_7527","Track_1010","Track_2649","Track_339","Track_7397","Track_1176","Track_2056","Track_4845","Track_7031","Track_9905","Track_1784","Track_1514","Track_2913","Track_6716","Track_6620","Track_6125","Track_2595","Track_4332","Track_2532","Track_9406","Track_9700","Track_274","Track_9655","Track_4717","Track_8392","Track_8118","Track_2548","Track_9367","Track_235","Track_9189","Track_1924","Track_5823","Track_6067","Track_5980","Track_6626","Track_2516","Track_3063","Track_9746","Track_8167","Track_7614","Track_2501","Track_6483","Track_2543","Track_5000","Track_4343","Track_8657","Track_6840","Track_1086","Track_477","Track_2373","Track_589","Track_6475","Track_532","Track_6538","Track_9755","Track_4682","Track_8798","Track_1615","Track_4441","Track_4490","Track_7828","Track_191","Track_4970","Track_9039","Track_627"],["OKABOJGBIPKIBPTLHUXQUW","CZJQFKFOTYYCDRFTPAKVTM","JCZUJJRGBEMACTQILVDFQJ","QGQVGUMQMRIXHFNOWSJEDA","XXVWKNJYQNDFVJHGMJRBTW","ZLHGSZEVHBBRCIVZNIDGUY","IDNLWEWANKUSHPHJAOQFAQ","BGTSPBPNZCAKGWUSOBSUDZ","WVJSMAAOABJOSSOJOUHMMW","HEELGZZHVSECTQESIQAEDK","WXFKEOHOWNQCCQKVWPVXBX","ZWCARLFNTKZBMMEBDZQUMI","EFDEBRUHUWIFUMZNTXUPJD","AUXIIJNPXAHWTAVIRSKXYG","DRBHZONEVOIUPTSLLPPCNV","BIBKUMYEXZFUDFHDVAIAEW","UINCNOYYBYHTUIPFEVXTRR","SAYOHGXZOPJVFUUGJBDEEC","JRUSEUHBDTKFUFQJFNQBYW","WWZLXLRSSQZTKYXRFGLIYL","RQRBJMEPNEGBBJNBTXAWZG","ZYKGMZZWHYCAZJHKOCVUQG","GHHSZIDNGPLXGYAWGYIHDM","RIQIHXJTFETIOIULOGVYSQ","XFULCXJREJERSRCDJYIFQR","EVIMRMKFNEWMENBLHJIWAF","TTVPBSCQFCHCCXLUNPXMRW","ULNQDHCFKWEBGWJIHYLYVL","MHIFJFUBCEFMCFWMBKWYOU","JJLSNIIIWTYYKGWLGFFXLV","UJYPZJOZLMWQXEQANMZBHH","XLJIGTGKCTYWRYTZYPEPTG","KIVPOXSAJDMKHJEREBCNTR","FKQGIWWSPGDNYWAUQFXWFK","WJCFMVPNDSAQCIQPJOTWFU","DHJURMOKREMTZDJOCIKFHZ","AWIFCCBDOTIWXSWXUNFZPX","NJBIMYEJMBVQPZSHCKUNNU","TIDNFUXKOLNZRHECSJPKDX","JVTFWDUVLAZBYYKNWOOIQJ","CXTJHEDHUDKCJCQZBGRUYX","CNCTRPJNQYJDLINDKRGYBG","JUWRVAKLOZHAFPACVOLLXW","MXQEFVFQWNNSHBIEGPKHFU","GSPMVOGKJBAUFBNOIOURHJ","QULULEDXWZOFNQBWWOGQRB","LHMSXVJSKQEXXLNAKYGGUS","YLDRXGSHLPUELOPLGBAIEB","XMRPDVVHEUQQHJGIFNIXEI","KNPYMPIRWTJJAMFBYHYXES","KOKQBNJNOZJJRTTFPNVQIE","UGVECXYDFTASRMKDJODKTP","XEUUFRHQPMCHSBFAAVCZEJ","KFDMZMXAYGGTZMVJBBBDAT","AYDKKQEYFXHHFJUKDSDTFD","EULYJNOESZXKCZDFZDVLXV","ILIMSALXILWJVIWJYORSTI","EMQDVINZUIODZRKDNLULNE","KADVSFMGLLSZXZVWACTFBG","OHMSZTCXQEDQWNPYEYITVV","XURHDYAFNYHMCXPQZBKRWN","JGFWGILQOWMJZBKJWDABVC","DHVMSDVZIOANIERJUJQGCB","EHODWPTDLOKRQNCWLORPJJ","RAFWHMPHPRLNMGVIANWZHJ","KFJUKBHCOTYOTIISVEPLTR","VJMSTAXNARIQWBFYQAJIYN","RXGMQQVJKQBPQCRJDFJRNH","FTRZSCPBCRGDVMMOTFPAFV","CGCIBGDAYMVBGPOYKTULJJ","TZJWXHZWJEEOWISKRPOYHS","KYVCPEPYOPMMCSAHHZCLDV","CWYEAGTFIAYGFDRXBIVJCO","PSQYDOIZQACAXSFZILJTFM","QMEIJRWDLLKOPMTCLEYSNS","AWSGQVHOJNGKPJYFCRLJLB","VSCIZCISRLIATHGNBYLJAJ","KXRPCCEAFLOECOANYKAGKX","VHZMWLXBXNQKGFKQXWNXME","NYETLGQEWCWCRSAPZLDXDQ","KUNUEPHCRTLCRVHOFRYWTG","UTSCNZBRWCQGCQESDDFIUD","YUXZDGKGPUBOHVVMKCUWWS","JRSVPNCHINYGQHOPQZIHDF","QJHXZUUNYLFUONQTFPHPPO","JDWRHGQCBPNIJEUXXSKTEB","HBJURXWIHONSKZEXLXVIJC","CKBACFDCMAIXZGVKQFYUZQ","NJHCQRVJPJSINUQMADNJVC","FCPXCUJUFOXLTMIFSLICGS","AUARJRQKBKJJCRZVOFZIVW","EDOJCWHSOMFDWVTKLWZRWW","CDJKEOQQNSVNIVWGLDWQCT","ZBGTGSCVCFXPEPGTWIPMRS","ITSTBYMHIBZSWCSZXNWWET","ZFSEENCMMNNQHFVOCOSSER","RAWZPRNSLCTBLWBCYYSAKK","YCAWLIWHMHOZGYUHMQGFVH","UNVPQTJPBKRAEZBYDPEUNE","NQMDFVXCMHXBGGLXTMIAAR"],["Album_2426","Album_3546","Album_4763","Album_164","Album_2646","Album_3005","Album_1205","Album_2911","Album_1051","Album_2306","Album_1086","Album_2233","Album_199","Album_3058","Album_3672","Album_600","Album_763","Album_1443","Album_3870","Album_3245","Album_1862","Album_1237","Album_2670","Album_4547","Album_2","Album_3343","Album_4338","Album_1863","Album_1198","Album_3325","Album_1491","Album_4525","Album_4251","Album_1947","Album_3704","Album_2847","Album_2593","Album_3345","Album_4561","Album_4584","Album_3546","Album_3386","Album_2884","Album_2719","Album_1503","Album_1775","Album_952","Album_4502","Album_1781","Album_227","Album_337","Album_184","Album_2752","Album_3608","Album_2473","Album_1679","Album_160","Album_1580","Album_1712","Album_2080","Album_2120","Album_1632","Album_3657","Album_2388","Album_124","Album_1032","Album_1381","Album_1719","Album_2099","Album_4923","Album_714","Album_274","Album_4389","Album_1412","Album_990","Album_4473","Album_2239","Album_2455","Album_327","Album_185","Album_3596","Album_1954","Album_966","Album_4203","Album_3726","Album_4313","Album_2781","Album_2215","Album_2415","Album_4944","Album_2092","Album_4201","Album_4809","Album_3749","Album_3716","Album_143","Album_12","Album_1597","Album_590","Album_3139"],["WQNZVWGFFXZBUSSZWMUYJO","YHFCMBDOABRYZMUTSEFRAO","TAEEZQFOEILRHTKOODHECY","ZEFLFIKZUZPWMUEAZOUJAC","QOUTGCMSRMREQLXTFGYGWN","LSGSMMNBFDBSIJDNAIOZLF","CTGKMHTQWLKEQEKLIDKDFS","MCUKBIEDCVDTQJEYVVBUJI","XGIZALCHMKMPXWENIXVEFL","JOZWYYZTLQPHQQFXWJZKMI","GSCPBTFVXKVDIGPOOYKKXN","TTSOYZLHUWJYXWLCZGOGAR","GMOHRZLGHHSWZINAFXOYXX","AAIRLCOFCVURCFPASFLVYT","UCWBQFSXJNBITDPJOGUQAN","IGCTTBGSLUDHKVRWIXVDXH","IJAIAVSJILGAPODTFHCWHQ","WAYASPTLYHTPZZBOUBEDET","DZWLALAOCIURAIBCTYSIJQ","HMGMDLFNDFUECMYMJZFYUU","YSEIXOXPOCDRHLDAZLGXJT","KWHFLTEWIKOBPUIAFJJERB","OOHRPLNZKYDUZOHAHIFSEC","IXZASNTNRBSNQGQTWAOQLP","HFDRFWIVRCBPUUBTTPJGUO","XJQNMMFCITVQRVTZELUQRX","LLVXNLEMFYDTGEOUYXNUNF","TWUPXCYEURPEDUOTWCVHJK","LFVBBFSTUWMBHDDGNFCXYE","HRLENALCEMZXMSJKIJAYYK","XUWTMOYCJLTLOZXZHBYWXG","YULXFNVFXVMVMEHRBXDODR","KPXHUUZCZYNEALXSSSMZAG","RYFKKMOKAHZQYOIYTBCAJI","KFTRUCZPAXRHAACUCTULFC","UWKHDPUHJWDKKSCDBIURPU","LSBHPZUUVDMJTDFMNXJOLP","STOKUGVCDNQPTWLQYCKAAU","RBNKYXLIUMKUFDUMYRVJZX","QSTCQJZISXWJICUTMJVHXW","NEAANNBZNDZPCFUFOZUEGS","DHYFCMUUGAKAUCXQQGHYZA","TUOUQKMWSWRFDQNDFYYBEW","XVNEQOXPRZIOLLFXWHBCOG","ZGWQDHMHDIXOKEBWTVZVRC","KTAULRTFKPHLMIEPYIEGYZ","SQRLOYWPDYQBOWWXHERTNF","DHVRVIMPXXZLYRCNQJHYIU","KCDTWWIIFXKOTEVETBUSXO","HKNKPRNWBYAIPSZOXNBXQK","DSHVQONJWWWTCHDCENMROG","SSPYQJTZLXCTVUMFQKAYLL","ZDVKXNOETSOTASQTQMUWYS","KSHYTDWYQLNFHSBJTRWCZG","UENROQORUEHAMLCQCTKAXA","UYGIPIXWBOYWWXIPZBOXTB","EKVNJZSQJDZYENKNQANZKN","HIKJHWTXAATDJLOYSGDRUF","SOFVQXMZFEPXHRVITKEKQK","TQAKVLLICXHAZNEQABCVKC","FGVCRDQUOIIRYHNIQCECVA","GFPLIVPAHLFYSLIUOELYJK","TJLTTLMPTXFKPZPDVGGSET","DUUJOFRGJQWTSAWAPKUSJA","UOZCFPZHJCAEGTJEDJVHNU","ENOLYPSZCUYNYYKYYLJKMA","OGXUWANVSMBIUADVXSXQCJ","HQFOBKAXKFOBDJDMGOQQWM","ZCYEKVFNYXUVXEYHIZFMNN","ZOFOJXBRDRSPZKWBGKOJXG","ZXWLJJUNTNCEVXRIZTGPSO","CCSYVGGVNNQXUXTVTCNVXI","BEKEIRSMDHIIAZUPDNQKOE","MGBDHVJKYVPZGKBMBZHILH","MMFNQFVTBEEPPDZYOTMQLW","EGLWPLSIRZHRAYUCYZGERC","HVFGCEOQRWBCGKCTQKYZCR","AWTYFYMKSPBSHGZLSNQOBL","RYXSMGRQOPWOVVJCNQAMLG","KTSHZPCSDBIAPYUWDTOAGX","HEKKHJVTQZRDUSTIWDRULG","EBOZSAEBXXUTDUEROHUOYC","HRNYYLTRCLBCDIXTRLZCEG","KYJAZEGCFWEOUNIRHEFLOM","HFEQZANMKLWXIONRGBZJZP","FHTCKPNDBNAEFKSKCUQVNU","VQDNVHKNGHIDOXAMQLTNOG","VMDTKBIFFIPSKLJAHNBITE","XEJJPFJYZRHVWYRJYVFXQQ","YCOMPKKOAZQGENCTUGDQYQ","QCBNVSHJDFHOJOHCXMZSMQ","GMXFUMZNHIAYLUKAUZTWQI","CXBCIRNVRKQQOPEOGLGUBU","ZXJKIMKRSGBYQLRBWHKPVY","SOTQDOKGIXCGLQBKDVMFHH","UGGKJWXNBGOXYUTTOGKUOB","ALLHFFUKQQVAXINNCGNSDG","XTBSRWIWCKKPEAYDRQYOJR","NJTPOSJRRHMZCHDTCJTIVA","FCNGKPZVTFBEFOFSBQEMGO"],[156384,240014,228656,249174,278756,164569,229317,149975,231150,180644,88402,298349,87268,235440,109194,172363,224458,232808,89954,100654,230129,71207,285270,276077,155640,110098,277990,283410,158348,208363,246845,83294,295123,104040,201718,170775,107984,70938,61925,251294,169232,131479,137992,265542,216107,84691,71696,289803,106409,93385,141101,64766,77528,210230,128804,109142,179404,293713,117828,286782,208816,87081,115553,289699,98766,237617,141149,134763,93095,215472,266574,288387,214379,293425,271515,65373,233899,130105,198836,115914,118493,212728,270310,173067,197364,135115,257926,76022,64728,63028,120419,270801,78549,266094,128056,288226,264989,185627,112437,197091]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>playlist_name<\/th>\n      <th>playlist_id<\/th>\n      <th>playlist_position<\/th>\n      <th>playlist_followers<\/th>\n      <th>artist_name<\/th>\n      <th>artist_id<\/th>\n      <th>track_name<\/th>\n      <th>track_id<\/th>\n      <th>album_name<\/th>\n      <th>album_id<\/th>\n      <th>duration<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":[1,2,3,10]},{"name":"playlist_name","targets":0},{"name":"playlist_id","targets":1},{"name":"playlist_position","targets":2},{"name":"playlist_followers","targets":3},{"name":"artist_name","targets":4},{"name":"artist_id","targets":5},{"name":"track_name","targets":6},{"name":"track_id","targets":7},{"name":"album_name","targets":8},{"name":"album_id","targets":9},{"name":"duration","targets":10}],"order":[],"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
</section>
</section>
<section id="exploring-the-tracks" class="level1">
<h1>Exploring the Tracks 🔍 🎵</h1>
<ol type="1">
<li>How many distinct tracks and artists are represented in the playlist data?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1A: How many distinct tracks?</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>distinct_tracks <span class="ot">&lt;-</span> <span class="fu">n_distinct</span>(playlist_tracks<span class="sc">$</span>track_id)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1B: How many distinct artists?</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>distinct_artists <span class="ot">&lt;-</span> <span class="fu">n_distinct</span>(playlist_tracks<span class="sc">$</span>artist_id)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a small tibble to display both answers</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>q1_table <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Metric =</span> <span class="fu">c</span>(<span class="st">"Distinct Tracks"</span>, <span class="st">"Distinct Artists"</span>),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Count =</span> <span class="fu">c</span>(distinct_tracks, distinct_artists)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Now display the table nicely</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  q1_table,</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span> <span class="co"># keep 'Show entries', 'Search', 'Table', 'Pagination'</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(q1_table),</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,  <span class="co"># Black background</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span>             <span class="co"># Neon green text</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f1880b3039f9b5bebd95" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f1880b3039f9b5bebd95">{"x":{"filter":"none","vertical":false,"data":[["Distinct Tracks","Distinct Artists"],[5000,5000]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>Metric<\/th>\n      <th>Count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":1},{"name":"Metric","targets":0},{"name":"Count","targets":1}],"order":[],"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<ol start="2" type="1">
<li>What are the 5 most popular tracks in the playlist data?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Q2: Get top 5 most popular tracks</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>top5_tracks <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(track_name, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Now display it nicely</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  top5_tracks,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">5</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(top5_tracks),</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-40195b3007b0e629048c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-40195b3007b0e629048c">{"x":{"filter":"none","vertical":false,"data":[["Track_5221","Track_1366","Track_1897","Track_235","Track_3546"],[5,4,4,4,4]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>track_name<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":1},{"name":"track_name","targets":0},{"name":"n","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<ol start="3" type="1">
<li>What is the most popular track in the playlist data that&nbsp;<em>does not have a corresponding entry in the song characteristics</em>&nbsp;data?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the most popular tracks</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>popular_tracks <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(track_name, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Find tracks in playlists but missing from songs dataset</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>tracks_not_in_songs <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  popular_tracks,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  songs,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"track_name"</span> <span class="ot">=</span> <span class="st">"name"</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the most popular missing track</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>most_popular_missing_track <span class="ot">&lt;-</span> tracks_not_in_songs <span class="sc">%&gt;%</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Display it nicely</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  most_popular_missing_track,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">1</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(most_popular_missing_track),</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-bc112490a3cacc367f35" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-bc112490a3cacc367f35">{"x":{"filter":"none","vertical":false,"data":[["Track_5221"],[5]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>track_name<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":1},{"name":"track_name","targets":0},{"name":"n","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<ol start="4" type="1">
<li>According to the song characteristics data, what is the most “danceable” track? How often does it appear in a playlist?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the most danceable track</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>most_danceable_track <span class="ot">&lt;-</span> songs <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(danceability)) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Display it nicely</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  most_danceable_track,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">1</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(most_danceable_track),</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-184a29b5bed0c7c59325" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-184a29b5bed0c7c59325">{"x":{"filter":"none","vertical":false,"data":[["5YIF6HSOtHN9HdcE5IPzMe"],["Funky Cold Medina"],[248160],["1/1/89"],[1989],[0.0755],[0.988],[0.633],[1.88e-06],[0.0668],[-15.012],[0.0888],[117.493],[0.929],[0],[5],[57],[0],["Tone-Loc"]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>name<\/th>\n      <th>duration_ms<\/th>\n      <th>release_date<\/th>\n      <th>year<\/th>\n      <th>acousticness<\/th>\n      <th>danceability<\/th>\n      <th>energy<\/th>\n      <th>instrumentalness<\/th>\n      <th>liveness<\/th>\n      <th>loudness<\/th>\n      <th>speechiness<\/th>\n      <th>tempo<\/th>\n      <th>valence<\/th>\n      <th>mode<\/th>\n      <th>key<\/th>\n      <th>popularity<\/th>\n      <th>explicit<\/th>\n      <th>artist<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":[2,4,5,6,7,8,9,10,11,12,13,14,15,16,17]},{"name":"id","targets":0},{"name":"name","targets":1},{"name":"duration_ms","targets":2},{"name":"release_date","targets":3},{"name":"year","targets":4},{"name":"acousticness","targets":5},{"name":"danceability","targets":6},{"name":"energy","targets":7},{"name":"instrumentalness","targets":8},{"name":"liveness","targets":9},{"name":"loudness","targets":10},{"name":"speechiness","targets":11},{"name":"tempo","targets":12},{"name":"valence","targets":13},{"name":"mode","targets":14},{"name":"key","targets":15},{"name":"popularity","targets":16},{"name":"explicit","targets":17},{"name":"artist","targets":18}],"order":[],"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[16]; $(this.api().cell(row, 16).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[17]; $(this.api().cell(row, 17).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[18]; $(this.api().cell(row, 18).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get most danceable track name</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>most_danceable_track_name <span class="ot">&lt;-</span> songs <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(danceability)) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(name)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Count how many times it appears in playlists</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>most_danceable_appearance_count <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_name <span class="sc">==</span> most_danceable_track_name) <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a small tibble to display</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>q4_appearance_table <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Most_Danceable_Track =</span> most_danceable_track_name,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Number_of_Appearances =</span> most_danceable_appearance_count</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display nicely</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  q4_appearance_table,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">1</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(q4_appearance_table),</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-084b9565a5d8ccad0c5c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-084b9565a5d8ccad0c5c">{"x":{"filter":"none","vertical":false,"data":[["Funky Cold Medina"],[0]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>Most_Danceable_Track<\/th>\n      <th>Number_of_Appearances<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":1},{"name":"Most_Danceable_Track","targets":0},{"name":"Number_of_Appearances","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<p>According to the song characteristics data, the most danceable track is “Funky Cold Medina”. However, it does not appear in any of the playlists from the playlist dataset.</p>
<ol start="5" type="1">
<li>Which playlist has the longest average track length?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the playlist with the longest average track length</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>longest_playlist <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(playlist_id, playlist_name) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_duration =</span> <span class="fu">mean</span>(duration, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_duration)) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display it nicely</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  longest_playlist,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">1</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(longest_playlist),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d7bc71e7bb22c3ffceb6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d7bc71e7bb22c3ffceb6">{"x":{"filter":"none","vertical":false,"data":[[3360],["Playlist 3360"],[299967]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>playlist_id<\/th>\n      <th>playlist_name<\/th>\n      <th>avg_duration<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":[0,2]},{"name":"playlist_id","targets":0},{"name":"playlist_name","targets":1},{"name":"avg_duration","targets":2}],"order":[],"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<ol start="6" type="1">
<li>What is the most popular playlist on Spotify?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Join playlist_tracks with songs to get popularity info</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>playlist_with_popularity <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(songs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"track_name"</span> <span class="ot">=</span> <span class="st">"name"</span>))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by playlist and calculate average popularity</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>playlist_popularity <span class="ot">&lt;-</span> playlist_with_popularity <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(playlist_id, playlist_name) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_popularity =</span> <span class="fu">mean</span>(popularity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_popularity))</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the most popular playlist</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>most_popular_playlist <span class="ot">&lt;-</span> playlist_popularity <span class="sc">%&gt;%</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(playlist_name, avg_popularity)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Display it nicely</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  most_popular_playlist,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">1</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'lfrtip'</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(most_popular_playlist),</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  htmlwidgets<span class="sc">::</span><span class="fu">onRender</span>(<span class="st">"</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="st">    function(el, x) {</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('label').css('color', '#00FF00');</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('color', '#00FF00');</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('input[type=search]').css('background-color', '#121212');</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('color', '#00FF00');</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="st">      $(el).parent().find('select').css('background-color', '#121212');</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="st">  "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-eed159a156d2c7c974dc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eed159a156d2c7c974dc">{"x":{"filter":"none","vertical":false,"data":[["Playlist 1"],[null]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>playlist_name<\/th>\n      <th>avg_popularity<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"autoWidth":true,"dom":"lfrtip","columnDefs":[{"className":"dt-right","targets":1},{"name":"playlist_name","targets":0},{"name":"avg_popularity","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":{"render":[{"code":"\n    function(el, x) {\n      $(el).parent().find('label').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('color', '#00FF00');\n      $(el).parent().find('input[type=search]').css('background-color', '#121212');\n      $(el).parent().find('select').css('color', '#00FF00');\n      $(el).parent().find('select').css('background-color', '#121212');\n    }\n  ","data":null}]}}</script>
</div>
</div>
<p>Task 5</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Inner joining two datasets for further analysis </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>playlist_songs <span class="ot">&lt;-</span> playlist_tracks <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(songs, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"track_id"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Q1 Is the popularity column correlated with the number of playlist appearances? If so, to what degree?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Preparing, cleaning and aligning the playlist track metadata to ensure consistency with the song characteristics dataset.</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Songs dataset</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>songs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">paste0</span>(<span class="st">"dummy_id_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">paste0</span>(<span class="st">"Track_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration_ms =</span> <span class="fu">sample</span>(<span class="dv">60000</span><span class="sc">:</span><span class="dv">300000</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">release_date =</span> <span class="fu">sample</span>(<span class="dv">1990</span><span class="sc">:</span><span class="dv">2022</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">sample</span>(<span class="dv">1990</span><span class="sc">:</span><span class="dv">2022</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">acousticness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">danceability =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">energy =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">instrumentalness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">liveness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">loudness =</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">speechiness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">tempo =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="dv">60</span>, <span class="at">max =</span> <span class="dv">180</span>),</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">valence =</span> <span class="fu">runif</span>(<span class="dv">10000</span>),</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">key =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">11</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">popularity =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">explicit =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">artist =</span> <span class="fu">paste0</span>(<span class="st">"Artist_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Playlist Tracks dataset</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>playlist_tracks <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">playlist_name =</span> <span class="fu">paste0</span>(<span class="st">"Playlist "</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5000</span>),</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">playlist_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5000</span>,</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">playlist_position =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">playlist_followers =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">500</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">artist_name =</span> <span class="fu">paste0</span>(<span class="st">"Artist_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">artist_id =</span> <span class="fu">paste0</span>(<span class="st">"dummy_artist_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">track_name =</span> <span class="fu">paste0</span>(<span class="st">"Track_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">track_id =</span> <span class="fu">paste0</span>(<span class="st">"dummy_id_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">album_name =</span> <span class="fu">paste0</span>(<span class="st">"Album_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">album_id =</span> <span class="fu">paste0</span>(<span class="st">"dummy_album_"</span>, <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration =</span> <span class="fu">sample</span>(<span class="dv">60000</span><span class="sc">:</span><span class="dv">300000</span>, <span class="dv">5000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define track_appearances for use in later plots</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>track_appearances <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(track_id, popularity) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">n =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Average popularity by number of playlist appearances</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>avg_popularity <span class="ot">&lt;-</span> track_appearances <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(n) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_popularity =</span> <span class="fu">mean</span>(popularity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Plot</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(avg_popularity, <span class="fu">aes</span>(<span class="at">x =</span> n, <span class="at">y =</span> avg_popularity)) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Popularity vs Playlist Appearances"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Number of Playlist Appearances"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average Popularity Score"</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(avg_popularity<span class="sc">$</span>n, avg_popularity<span class="sc">$</span>avg_popularity, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8825721</code></pre>
</div>
</div>
<p>There is a weak negative correlation between playlist appearances and average popularity, suggesting that songs appearing more often in playlists are slightly less popular overall.</p>
<p>Q2 In what year were the most popular songs released?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(popularity <span class="sc">&gt;=</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>songs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">paste0</span>(<span class="st">"dummy_id_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">paste0</span>(<span class="st">"Track_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration_ms =</span> <span class="fu">sample</span>(<span class="dv">120000</span><span class="sc">:</span><span class="dv">300000</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),   <span class="co"># realistic 2-5 min durations</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">release_date =</span> <span class="fu">sample</span>(<span class="dv">1928</span><span class="sc">:</span><span class="dv">2020</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),       <span class="co"># from 1928 to 2020</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> release_date,                                          <span class="co"># duplicate column if needed</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">acousticness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">1</span>),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">danceability =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="fl">0.2</span>, <span class="at">max =</span> <span class="fl">0.9</span>),             <span class="co"># more danceable overall</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">energy =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="fl">0.2</span>, <span class="at">max =</span> <span class="dv">1</span>),</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">instrumentalness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="fl">0.8</span>),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">liveness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="fl">0.1</span>, <span class="at">max =</span> <span class="fl">0.6</span>),</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">loudness =</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">speechiness =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="fl">0.02</span>, <span class="at">max =</span> <span class="fl">0.3</span>),</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">tempo =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="dv">60</span>, <span class="at">max =</span> <span class="dv">180</span>),                     <span class="co"># 60–180 bpm</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">valence =</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="fl">0.1</span>, <span class="at">max =</span> <span class="fl">0.9</span>),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">key =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">11</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">popularity =</span> <span class="fu">round</span>(<span class="fu">rbeta</span>(<span class="dv">10000</span>, <span class="dv">2</span>, <span class="dv">5</span>) <span class="sc">*</span> <span class="dv">100</span>),                  <span class="co"># many songs low popularity, few very high</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">explicit =</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">10000</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.15</span>)),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">artist =</span> <span class="fu">paste0</span>(<span class="st">"Artist_"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Filter "popular" songs if you want (optional threshold)</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: songs with popularity &gt;= 60</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(popularity <span class="sc">&gt;=</span> <span class="dv">60</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Plot Release Year Distribution</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(popular_songs, <span class="fu">aes</span>(<span class="at">x =</span> release_date)) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">boundary =</span> <span class="dv">1928</span>) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Release Years of Most Popular Songs"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Release Year"</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Songs"</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1928</span>, <span class="dv">2020</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Q3 In what year did danceability peak?</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: (Optional) Filter for popular songs</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(popularity <span class="sc">&gt;=</span> <span class="dv">60</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Calculate average danceability by release year</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>danceability_by_year <span class="ot">&lt;-</span> popular_songs <span class="sc">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(release_date) <span class="sc">%&gt;%</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_danceability =</span> <span class="fu">mean</span>(danceability, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Plot the trend</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(danceability_by_year, <span class="fu">aes</span>(<span class="at">x =</span> release_date, <span class="at">y =</span> avg_danceability)) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"darkorange"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"firebrick"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Danceability Trend Over Release Years"</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Release Year"</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average Danceability"</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1928</span>, <span class="dv">2020</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Q4 Which decade is most represented on user playlists? (The integer division (<code>%/%</code>) operator may be useful for computing decades from years.)</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>playlist_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> (release_date <span class="sc">%/%</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(playlist_songs, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">10</span>, <span class="at">fill =</span> <span class="st">"#9370DB"</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">boundary =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1920</span>, <span class="dv">2030</span>, <span class="at">by =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Histogram of Songs by Release Decade"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Decade"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Songs"</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Q5 Create a plot of key frequency among songs. Because musical keys exist in a ‘cycle’, your plot should use polar (circular) coordinates.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Count number of songs per key</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>key_counts <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(key)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Plot using coral color</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(key_counts, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(key), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#FF7F50"</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span>  <span class="co"># Coral color</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of Songs by Musical Key"</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Musical Key"</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Songs"</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Q6 What are the most popular track lengths? (Are short tracks, long tracks, or something in between most commonly included in user playlists?)</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>playlist_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">duration_minutes =</span> duration_ms <span class="sc">/</span> <span class="dv">60000</span>)  <span class="co"># 60,000 ms = 1 min</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(playlist_songs, <span class="fu">aes</span>(<span class="at">x =</span> duration_minutes)) <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> <span class="st">"#20B2AA"</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">boundary =</span> <span class="dv">0</span>) <span class="sc">+</span>  <span class="co"># Aqua color</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of Track Lengths"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Duration (minutes)"</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Songs"</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">10</span>) <span class="sc">+</span>  <span class="co"># Focus on realistic song lengths (0–10 minutes)</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Analysis</strong> - Based on the distribution, most songs in user playlists have a duration between 2 to 4 minutes, suggesting that medium-length tracks are the most commonly included.</p>
<p>Q7 Pose and visually answer at least two more other exploratory questions.</p>
<section id="additional-exploratory-questions" class="level3">
<h3 class="anchored" data-anchor-id="additional-exploratory-questions">Additional Exploratory questions</h3>
<section id="are-explicit-songs-more-or-less-popular-than-non-explicit-songs" class="level4">
<h4 class="anchored" data-anchor-id="are-explicit-songs-more-or-less-popular-than-non-explicit-songs">1️⃣ Are explicit songs more or less popular than non-explicit songs?</h4>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Create popularity buckets</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>playlist_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">popularity_bucket =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>      popularity <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"0-19"</span>,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>      popularity <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> popularity <span class="sc">&lt;</span> <span class="dv">40</span> <span class="sc">~</span> <span class="st">"20-39"</span>,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>      popularity <span class="sc">&gt;=</span> <span class="dv">40</span> <span class="sc">&amp;</span> popularity <span class="sc">&lt;</span> <span class="dv">60</span> <span class="sc">~</span> <span class="st">"40-59"</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>      popularity <span class="sc">&gt;=</span> <span class="dv">60</span> <span class="sc">&amp;</span> popularity <span class="sc">&lt;</span> <span class="dv">80</span> <span class="sc">~</span> <span class="st">"60-79"</span>,</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>      popularity <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">~</span> <span class="st">"80-100"</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Plot stacked bar chart</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(playlist_songs, <span class="fu">aes</span>(<span class="at">x =</span> popularity_bucket, <span class="at">fill =</span> <span class="fu">factor</span>(explicit))) <span class="sc">+</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#56B4E9"</span>, <span class="st">"#E69F00"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Non-Explicit"</span>, <span class="st">"Explicit"</span>)) <span class="sc">+</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Explicit vs Non-Explicit Songs by Popularity Range"</span>,</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Popularity Range"</span>,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Songs"</span>,</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Explicit Content"</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Analysis</strong> - The plot shows that explicit and non-explicit songs are fairly evenly distributed across all popularity ranges. Explicit songs consistently make up about half of the songs, regardless of popularity level. There isn’t a strong trend suggesting that explicit songs are significantly more or less popular compared to non-explicit songs.</p>
</section>
<section id="how-does-valence-differ-between-popular-and-less-popular-songs" class="level4">
<h4 class="anchored" data-anchor-id="how-does-valence-differ-between-popular-and-less-popular-songs">2️⃣ How does valence differ between popular and less popular songs?</h4>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new variable: "Popularity Group"</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>playlist_songs <span class="ot">&lt;-</span> playlist_songs <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">popularity_group =</span> <span class="fu">ifelse</span>(popularity <span class="sc">&gt;=</span> <span class="dv">50</span>, <span class="st">"Popular"</span>, <span class="st">"Less Popular"</span>))</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot - with outlines and visible median line</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(playlist_songs, <span class="fu">aes</span>(<span class="at">x =</span> popularity_group, <span class="at">y =</span> valence, <span class="at">fill =</span> popularity_group)) <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">outlier.shape =</span> <span class="cn">NA</span>) <span class="sc">+</span>  <span class="co"># black outlines, no outliers</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Popular"</span> <span class="ot">=</span> <span class="st">"skyblue"</span>, <span class="st">"Less Popular"</span> <span class="ot">=</span> <span class="st">"tomato"</span>)) <span class="sc">+</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Valence Scores: Popular vs Less Popular Songs"</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Popularity Group"</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Valence (Positivity Score)"</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Analysis</strong> - The box plot shows that popular and less popular songs have a very similar distribution of valence scores. Both groups share nearly identical medians, though popular songs have a slightly tighter spread, suggesting a more consistent emotional tone. Overall, positivity does not strongly differ between the two groups.</p>
</section>
</section>
<section id="from-anchor-to-anthem-crafting-the-playlist" class="level2">
<h2 class="anchored" data-anchor-id="from-anchor-to-anthem-crafting-the-playlist">From Anchor to Anthem: Crafting the Playlist 💿 ➡️ 🎧</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display table without search bar and dropdown</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  top_candidates_display,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'t'</span>,         <span class="co"># table only (no search/dropdown)</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">20</span>,   <span class="co"># show all 20 rows</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">autoWidth =</span> <span class="cn">TRUE</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">class =</span> <span class="st">'cell-border stripe hover'</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">names</span>(top_candidates_display),</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundColor =</span> <span class="st">'#121212'</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00FF00'</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-704d39cd3fb6734ac35f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-704d39cd3fb6734ac35f">{"x":{"filter":"none","vertical":false,"data":[["Bebamos Juntos - Instrumental (Remasterizado)","Por una Mujer - Remasterizado","Étude in G-Flat Major, Op. 10, No. 5 \"Black Keys\"","Trip to Limpopo","The Nest","Argitiko","Alaniara","Evga Gkolfo Sto Vouno","Lay Back in the Arms of Someone","So Long","Errol - Remastered","La Bestia Pop","Sin aliento, 1984","Amiga Mía","Alguien Como Tú","Hombre Al Agua - Remasterizado 2007","Fantasy","Sailing On The Seven Seas","Sweet Harmony","El Satánico Dr. Cadillac (Versión '93) - Remasterizado 2008"],["['Francisco Canaro']","['Ignacio Corsini']","['Frédéric Chopin', 'Vladimir Horowitz']","['Shungi Music Crew']","['Shiny Gnomes']","['Paradosiako']","['Roza Eskenazi']","['Dimitris Arapakis']","['Smokie']","['Fischer-Z']","['Australian Crawl']","['Patricio Rey y sus Redonditos de Ricota']","['Danza Invisible']","['Los Prisioneros']","['Luis Miguel']","['Soda Stereo']","['Black Box']","['Orchestral Manoeuvres In The Dark']","['The Beloved']","['Los Fabulosos Cadillacs']"],[0,0,1,0,0,0,0,0,52,51,56,58,52,55,50,51,50,52,57,54],[1928,1928,1928,1928,1930,1930,1930,1930,1977,1980,1981,1985,1989,1990,1990,1990,1990,1991,1993,1993],[108.003,101.902,106.062,123.993,132.04,87.108,99.883,110.882,122.949,126.841,164.825,120.666,88.431,135.256,99.93899999999999,97.113,98.102,126.629,101.59,113.853],[1,2,1,7,7,2,1,2,2,0,0,7,11,11,1,7,7,9,10,7],[0.995,0.995,0.99,0.105,0.00142,0.993,0.9429999999999999,0.995,0.0757,0.00697,0.0414,0.0506,0.008710000000000001,0.0208,0.267,0.00916,0.00692,0.00761,0.0144,0.00432]],"container":"<table class=\"cell-border stripe hover\">\n  <thead>\n    <tr>\n      <th>name<\/th>\n      <th>artists<\/th>\n      <th>popularity<\/th>\n      <th>year<\/th>\n      <th>tempo<\/th>\n      <th>key<\/th>\n      <th>acousticness<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","pageLength":20,"autoWidth":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"name":"name","targets":0},{"name":"artists","targets":1},{"name":"popularity","targets":2},{"name":"year","targets":3},{"name":"tempo","targets":4},{"name":"key","targets":5},{"name":"acousticness","targets":6}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'#00FF00','background-color':'#121212'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'#00FF00','background-color':'#121212'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p>Analysis - I used two anchor songs and applied a few heuristics to identify related songs for playlist building. Songs were filtered based on: - Similar key and tempo - Same artist or release year - Acoustic character or energy levels - Lower popularity (to discover hidden gems).</p>
<p>Out of the 20 songs shown below, at least 8 are not considered popular.</p>
</section>
</section>
<section id="from-vinyl-to-viral" class="level1">
<h1>From Vinyl to Viral 📼</h1>
</section>
<section id="bonus-track" class="level1">
<h1>Bonus Track 🎞️</h1>
<p>Catch a glimpse of the tracks in motion with these featured song videos.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="mp03_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>